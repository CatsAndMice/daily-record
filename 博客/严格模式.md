## jsçš„ä¸¥æ ¼æ¨¡å¼'use strict'

> å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç çˆ¸çˆ¸ğŸ‘¦ï¼Œæ¯å¤©åŠªåŠ›ä¸€ç‚¹ç‚¹ğŸ’ªï¼Œå°±èƒ½å‡èŒåŠ è–ªğŸ’°å½“ä¸Šæ€»ç»ç†å‡ºä»»CEOè¿å¨¶ç™½å¯Œç¾èµ°ä¸Šäººç”Ÿå·…å³°ğŸ—»ï¼Œæƒ³æƒ³è¿˜æœ‰ç‚¹å°æ¿€åŠ¨å‘¢ğŸ˜ã€‚



è®¾ç«‹"ä¸¥æ ¼æ¨¡å¼"çš„ç›®çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š

* æ¶ˆé™¤jsè¯­æ³•çš„ä¸€äº›ä¸åˆç†æ€§ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸ºï¼›
* æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ï¼›
* ä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„jsåšå¥½é“ºå« ã€‚



## ä½¿ç”¨

* åœ¨å…¨å±€é¡¶éƒ¨æ”¾å…¥ç‰¹å®šè¯­å¥`use strict`

```js
"use strict"
var mode = "hi,strict"
```

* å‡½æ•°å¼€å¯ä¸¥æ ¼æ¨¡å¼

`use strict`æ”¾åˆ°å‡½æ•°æ‰€æœ‰è¯­å¥ä¹‹å‰

```js
function mode(){
    "use strict"
    ...
}
```



## å…·ä½“è§„åˆ™ 

1. ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•å†æ„å¤–åˆ›å»ºå…¨å±€å˜é‡

```js
"use strict";
name = 1;  //éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æ„å¤–åˆ›å»ºå…¨å±€å˜é‡
```

2. ç»™ä¸å¯å†™å±æ€§ï¼Œåªè¯»å±æ€§ï¼Œä¸å¯æ‰©å±•å¯¹è±¡èµ‹å€¼æŠ¥é”™ï¼Œ

```js
var obj = {};
Odbject.defineProperty(obj1,"x",{value:2,writable:false});
obj1.x = 3;//æŠ›å‡ºè¯­æ³•é”™è¯¯

var obj2 = {get x(){
    return 12;
}}
obj2.x = 5;//æŠ›å‡ºè¯­æ³•é”™è¯¯

NaN.x = 2;//æŠ›å‡ºè¯­æ³•é”™è¯¯

//åŸºæœ¬ç±»å‹æ•°æ®(ä¸å¯å˜)æ‰©å±•æŠ¥é”™
var a = 1;
a.b = 2//Cannot create property 'b' on number '1'

```

3. ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸å¯ä»¥åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§

```js
"use strict";
var str = "del";
delete str;//è¯­æ³•é”™è¯¯ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ²¡æœ‰æ•ˆæœä¹Ÿä¸æŠ¥é”™
```

4. ä¸èƒ½ä½¿ç”¨ä¿ç•™å­—(implementsã€interfaceã€letã€packageã€ privateã€protectedã€publicã€static å’Œ yield)ä½œä¸ºå˜é‡å

```js
"use strict";
var public = 1;//è¯­æ³•é”™è¯¯
```

5. åœ¨å¯¹è±¡ä¸­ä¸å¯æœ‰åŒåå±æ€§

```js
"use strict";
var obj = {a:1,a:2}//è¯­æ³•é”™è¯¯  éä¸¥æ ¼æ¨¡å¼ä¸‹å±æ€§ä¼šè¦†ç›–
```

6. å‡½æ•°å‚æ•°ä¸å¯é‡å

```js
"use strict";
function fn  (a,a){//è¯­æ³•é”™è¯¯ï¼Œ  éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåè€…ä¼šè¦†ç›–å‰è€…ï¼Œè¾“å‡ºçš„aæ˜¯2
    console.log(a);
}
fn(1,2)
```

7. evalä¸åœ¨ä¸ºä¸Šä¸‹æ–‡(å…¨å±€)åˆ›å»ºå˜é‡æˆ–å‡½æ•° 

```js
eval("var x = 1;");
console.log(x);//1
```

```js
"use strict";
var a = eval("var x = 1;x")//åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œç›¸å½“äºåœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­åˆ›å»º
console.log(a);
console.log(x);//æŠ¥é”™ï¼šx is not defined

```

eavl()

```js
var b = eval("var a =1; a");//åœ¨å…¨å±€åˆ›å»ºå˜é‡a,å¹¶ä¸”è¿”å›a
console.log(b)
```

8. argumentsä¸å½¢å‚è„±ç¦» 

```js
function a(a){
    console.log(arguments[0])//1
    a = 2;
    console.log(arguments[0])//2  é€ æˆæ­¤ç»“æœçš„åŸå› æ˜¯argumentsä¸å‚æ•°åœ¨ä¹‹é—´å­˜åœ¨æ˜ å°„å…³ç³»ã€‚
}

a(1)
```

```js
function a(a){
    "use strict";
    console.log(arguments[0])//1
    a = 2;
    console.log(arguments[0])//1
}
a(1)
```

9. ç¦æ­¢ä½¿ç”¨withè¯­å¥

```js
var obj = {a:1,b:2};
with(obj){
    a=2;
    b=4;
}
console.log(obj);//{a:2,b:4}
```

```js
"use strict";
with(..){//è¯­æ³•é”™è¯¯
    ...
}
```

10. ç›´æ¥è°ƒç”¨çš„å‡½æ•°ä¸­çš„thisä¸å†æŒ‡å‘å…¨å±€(window),è€Œæ˜¯undefined

```js
"use strict"
function a(){
    console.log(this);//undefined
    function b(){
        console.log(this);//undefined
    }
    b();
}
a();
```

11. ä½¿ç”¨æ„é€ å‡½æ•°æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç”¨new,thisä¸ä¼šæŒ‡å‘å…¨å±€(window),è€Œæ˜¯undefined,å› æ­¤ä¼šæŠ¥é”™

```js
function obj (){
    "use strict"
    this.name = "js";//undefined.name æŠ¥é”™
    this.age = 20;//undefined.age  æŠ¥é”™
}
var ob = obj();
```

## ã€æ‰©å±•ã€‘

### withè¯­å¥

åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼ºçƒˆä¸æ¨èä½¿ç”¨withè¯­å¥ã€‚å¬åˆ°ä¸æ¨èå¾ˆå¤šäººä¼šé—®ï¼Œä¸ç”¨çš„ä¸œè¥¿ç›´æ¥ä¸å­¦å¤šå¥½ï¼Œçœäº‹ã€‚æˆ‘ä¹Ÿæƒ³å•Šï¼Œå¯é¢è¯•å®˜ä¸ä¿è¯ä¸å‡ºé¢˜é—®ä½ ï¼Œæ‰€ä»¥è¿˜æ˜¯äº†è§£ä¸‹ã€‚

* åŸºæœ¬ç”¨æ³•

æ”¹å˜ä½œç”¨åŸŸ

```js
var obj = {
    a:1,
    b:2,
    c:3
}

//å¹³å¸¸ä¿®æ”¹å±æ€§å€¼åšæ³•ï¼š
obj.a = 2;
obj.b = 3;
obj.c = 4;
console.log(obj)//{a: 2, b: 3, c: 4}

//ä¿®æ”¹å±æ€§å€¼æ›´æ–¹ä¾¿çš„æ–¹å¼ï¼šwithè¯­æ³•
with(obj){
    a = 4;
    b =2;
    c =8;
}
console.log(obj)//{a: 4, b: 2, c: 8}
```

* withç¼ºé™·

**æ•°æ®æ³„æ¼**

```js
function a (obj){
    with(obj){
        a = 1;
    }
}

var obj ={b:1};
a(obj);
console.log(obj.a)//undefined
console.log(a);//1, aè¢«æŒ‚åˆ°å…¨å±€èº«ä¸Š
```

**æ€§èƒ½é—®é¢˜**

```js
console.time();
var obj = {a:1}
with(obj){
    a = 2;
}
console.timeEnd();
```

![image-20200519162456334](C:\Users\li2322873900\Desktop\markdown\image-20200519162456334.png)

```js
console.time();
var obj = {a:1}
obj.a = 2
console.timeEnd();
```



![image-20200519162545137](C:\Users\li2322873900\Desktop\markdown\image-20200519162545137.png)



ä¸¤å›¾å¯¹æ¯”å°±åº”è¯¥å¾ˆæ¸…æ¥šäº†ã€‚å¦‚æœä½ ä¸æ¸…æ¥š`console.time();console.timeEnd();`è¿™ä¸¤è¡Œè¯­å¥

è¯·ç§»æ­¥ï¼š<a href="https://blog.csdn.net/qq_45472813/article/details/106169939">å‰ç«¯å¥‡æŠ€æ·«å·§ä¹‹jsè°ƒè¯•</a>



æ€»ç»“ï¼šä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·ï¼Œæ¯å¤©ä¸€å°æ—¶å›é¡¾åŸºç¡€ã€‚æœ¬äººåŸºç¡€ä¹Ÿå°±é‚£æ ·ï¼Œä¸Šé¢è®°å½•çš„éƒ½æ˜¯çœ‹åšå®¢ç§¯ç´¯çš„ï¼Œæœ‰ä»€ä¹ˆä¸å¯¹çš„æ–¹é¢è¯·æŒ‡å‡º

å‚è€ƒæ–‡çŒ®ï¼š<a href ="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">ä¸¥æ ¼æ¨¡å¼MDN</a>